
# 深入淺出 Shotstack：將影片編輯化為程式碼，釋放無限創意



想像一下，您需要為一個電商網站的數千種商品、或是一個房地產網站的上百筆物件，各自生成一支獨特的短影片。手動製作不僅耗時，更是一場夢魘。這正是「影片自動化」大顯身手的時刻，而 **Shotstack**，就是為解決此類問題而生的開發者利器。

這篇文章將帶您深入了解 Shotstack 的核心理念，並透過一個實際範例，展示如何將影片編輯的過程完全「程式碼化」。

### 什麼是 Shotstack？核心理念：影片即程式碼 (Video as Code)

Shotstack 是一個雲端影片編輯 API。它最核心的設計哲學是**「Video as Code」**。

它不像傳統的影片剪輯軟體那樣有圖形介面，而是讓開發者透過撰寫 JSON 物件來描述影片的「一切」。從影片的長度、解析度，到時間軸上的每一個片段、文字、轉場和音訊，都由程式碼精準定義。

這意味著您可以將影片製作無縫整合到任何應用程式或自動化工作流程中，賦予您前所未有的彈性和控制力。

#### Shotstack 的三大核心元件：

1.  **時間軸 (Timeline):** 這是影片的骨架，定義了影片的總長度、解析度、背景顏色以及最重要的「軌道」。
    
2.  **軌道 (Track):** 如同 Photoshop 或 Figma 中的圖層，軌道讓您能將不同的元素（影片、圖片、文字）在垂直方向上堆疊起來。您可以擁有多個軌道，例如一個放主要影片，另一個放 Logo 浮水印。
    
3.  **片段 (Clip):** 這是軌道上的基本單位，也就是您實際放置的內容。一個 Clip 可以是一段影片、一張圖片、一段文字，甚至是 HTML 動畫。您可以精準設定它在軌道上的開始時間和持續長度。
    

_(圖片來源: Shotstack.io)_

----------

### 實戰演練：自動生成房地產介紹短片

讓我們來實作一個常見的商業需求：從一支長長的空拍機影片中，擷取精華片段，串接後配上物件地址和背景音樂，自動生成一支 15 秒的房地產介紹短片。

**目標：**

1.  從一支 5 分鐘的空拍影片中，擷取 `00:30-00:35` 和 `01:15-01:25` 兩個片段。
    
2.  將這兩個片段串接起來。
    
3.  在影片上方疊加房地產地址文字。
    
4.  加入一首背景音樂。
    

#### 步驟 1: 準備素材 (Assets)

-   **影片來源 (Video Source):** `https://example.com/drone-footage.mp4`
    
-   **背景音樂 (Music):** `https://example.com/background-music.mp3`
    
-   **地址文字 (Address Text):** `花蓮縣壽豐鄉大學路一段`
    

#### 步驟 2: 組裝 Shotstack 的 JSON 請求

這是最關鍵的一步。我們將用 JSON 來描述整個編輯過程。



```JSON
{
  "timeline": {
    "background": "#000000",
    "soundtrack": {
      "src": "https://example.com/background-music.mp3",
      "volume": 0.8
    },
    "tracks": [
      {
        "clips": [
          {
            "asset": {
              "type": "video",
              "src": "https://example.com/drone-footage.mp4",
              "trim": 30, // 從第 30 秒開始
              "length": 5   // 擷取 5 秒
            },
            "start": 0,    // 放在時間軸的第 0 秒
            "length": 5
          },
          {
            "asset": {
              "type": "video",
              "src": "https://example.com/drone-footage.mp4",
              "trim": 75, // 從第 75 秒開始
              "length": 10  // 擷取 10 秒
            },
            "start": 5,    // 緊接著上一個片段，放在第 5 秒
            "length": 10
          }
        ]
      },
      {
        "clips": [
          {
            "asset": {
              "type": "title",
              "text": "花蓮縣壽豐鄉大學路一段",
              "style": "minimal",
              "size": "small"
            },
            "start": 0,
            "length": 15,
            "position": "top"
          }
        ]
      }
    ]
  },
  "output": {
    "format": "mp4",
    "resolution": "hd"
  }
}

```

**JSON 解說：**

-   `soundtrack`: 我們定義了整部影片的背景音樂。
    
-   `tracks`: 我們用了兩個軌道。
    
    -   **第一個軌道** 放置影片片段。注意我們用了兩個 `clip`，它們都指向同一個長影片，但透過 `trim` 和 `length` 參數擷取出不同的部分，並用 `start` 參數將它們一前一後排列，實現了「擷取與串接」。
        
    -   **第二個軌道** 放置文字。這個文字 `clip` 會疊加在影片軌道之上，持續顯示 15 秒。
        

#### 步驟 3: 發送請求與接收成果

將這個 JSON 物件透過 API POST 到 Shotstack 的 `render` 端點。Shotstack 會回傳一個 `renderId`。由於影片渲染需要時間，這是一個非同步操作。您可以稍後用 `renderId` 查詢狀態，或設定一個 Webhook，當影片渲染完成後，Shotstack 會自動通知您的伺服器並提供影片下載連結。

### 進階應用與整合

-   **Python/Node.js SDK:** 您可以使用官方 SDK，以更優雅的程式化方式來建構上述的 JSON 結構，特別適合處理複雜的動態邏輯。
    
-   **n8n/Make 整合:** 在 n8n 這類自動化平台中，您可以使用 `HTTP Request` 節點，將動態生成的 JSON 發送到 Shotstack。
    
-   **結合 AI 語音/音效:** 您可以先呼叫 ElevenLabs 或 Google TTS 的 API 將文字轉成語音檔，再將語音檔的 URL 作為 `soundtrack` 或一個獨立的音訊 `clip` 加入到您的影片中。
    

### 結論：何時該選擇 Shotstack？

Shotstack 是開發者的終極武器。如果您需要以下功能，它將是您的不二之選：

-   **極致的靈活性：** 需要動態、非模板化的影片結構，對時間軸有完全的控制權。
    
-   **複雜的剪輯邏輯：** 需要根據數據動態擷取、排序、組合大量片段。
    
-   **無縫的後端整合：** 希望將影片生成能力作為您應用程式核心的一部分。
    

雖然它的學習曲線比範本驅動的工具要陡峭，但它所賦予的無限可能性，絕對能讓您的創意不受任何拘束。

